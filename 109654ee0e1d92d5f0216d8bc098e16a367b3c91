{
  "comments": [
    {
      "unresolved": true,
      "key": {
        "uuid": "973d88e1_e2d9e8c2",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 1927
      },
      "writtenOn": "2022-07-28T21:28:53Z",
      "side": 1,
      "message": "DELIMITER \u0026 DELIMITER_LENGTH should be removed.",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": false,
      "key": {
        "uuid": "0f75dd19_55bcdc8c",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 25,
      "author": {
        "id": 649
      },
      "writtenOn": "2022-07-28T21:37:16Z",
      "side": 1,
      "message": "Done",
      "parentUuid": "973d88e1_e2d9e8c2",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "74b6467b_dc3f8c21",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1927
      },
      "writtenOn": "2022-07-28T21:28:53Z",
      "side": 1,
      "message": "\u0027-1\u0027 should be removed.",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "92aa3562_6bf33466",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 649
      },
      "writtenOn": "2022-07-28T21:40:08Z",
      "side": 1,
      "message": "Hmm... this is me and my typical \u0027off-by-one\u0027 errors.\nIn this case, I think we need to re-check the EOM marker again, hence bodyLength should be pointing to the byte before.\nAm I mistaken here? Perhaps we need another test?",
      "parentUuid": "74b6467b_dc3f8c21",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "a79c2201_5b484e78",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1927
      },
      "writtenOn": "2022-07-28T21:48:02Z",
      "side": 1,
      "message": "bodyLength can be \u0027-1\u0027 if eomIndex \u0026 readerIndex are the same although this practically is not gonna happen because that means an empty message.",
      "parentUuid": "92aa3562_6bf33466",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "13cda1f0_1ff6e9cf",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 649
      },
      "writtenOn": "2022-07-28T22:50:22Z",
      "side": 1,
      "message": "as far as I can tell, bodyLength can never get \u003c 0. There are 3 call sites:\n- first requires writerIndex \u003c readerIndex, how can that happen?\n- second reqires eomIndex \u003c readerIndex, for an empty message -- which gets caught by eomIndex \u003c 0 check -- or we enter this branch, where we really want to say \u0027recheck from eomIndex (inclusive) next time around\n- third is explicit 0 if we have found a frame\n\nCan you come up with a UT case which fails, please? It is ETOOLATE on my part as I am just not seeing how it can happen. But, yeah, we have an uncovered part in:\n\n            // No match: move one byte past eomIndex and repeat\n            searchIndex \u003d eomIndex + 1;\n            LOG.trace(\"Context {} buffer {} restart at {}\", ctx, in, searchIndex);\n\nThat certainly needs to be covered.",
      "parentUuid": "a79c2201_5b484e78",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    },
    {
      "unresolved": true,
      "key": {
        "uuid": "82afd7b7_97660e47",
        "filename": "netconf/netconf-netty-util/src/main/java/org/opendaylight/netconf/nettyutil/handler/NetconfEOMAggregator.java",
        "patchSetId": 10
      },
      "lineNbr": 59,
      "author": {
        "id": 1927
      },
      "writtenOn": "2022-07-28T23:59:15Z",
      "side": 1,
      "message": "The new test case fails because bodyLength becomes -1 after decode() is called:\n\n\u003e 16:41:40 [ERROR] org.opendaylight.netconf.nettyutil.handler.NetconfEOMAggregatorTest.testDecodeEmptyMessage  Time elapsed: 0.002 s  \u003c\u003c\u003c FAILURE!\n\u003e 16:41:40 java.lang.AssertionError: expected:\u003c0\u003e but was:\u003c-1\u003e\n\nNote that the test does not fail without the assertion for bodyLength - so the functionality was not affected by the negative value.",
      "parentUuid": "13cda1f0_1ff6e9cf",
      "revId": "109654ee0e1d92d5f0216d8bc098e16a367b3c91",
      "serverId": "7fc14799-209e-464c-9743-7a06c2c21a81"
    }
  ]
}